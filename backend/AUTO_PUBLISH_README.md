# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ –ø—É–±–ª–∏–∫—É–µ—Ç 2-3 —Å—Ç–∞—Ç—å–∏ –∫–∞–∂–¥—ã–π **–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 10:00**

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞:
1. AI –ø—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã –¥–ª—è —Å—Ç–∞—Ç–µ–π
2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SEO-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (500-800 —Å–ª–æ–≤)
3. –°–æ–∑–¥–∞–µ—Ç —á–∏—Ç–∞–µ–º—ã–µ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ URL (—Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è)
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—É–±–ª–∏–∫—É–µ—Ç –Ω–∞ `/blog`

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å—Ç–∞—Ç–µ–π (–º–∏–∫—Å):
- **–°–æ–≤–µ—Ç—ã –∏ –≥–∞–π–¥—ã** (tips) - –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –ø–æ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–µ
- **–ù–æ–≤–æ—Å—Ç–∏ —Ö–æ–∫–∫–µ—è** (news) - –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã –∏ —Å–æ–±—ã—Ç–∏—è
- **–£—Ö–æ–¥ –∑–∞ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–æ–π** (care) - –ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ —Å–ª—É–∂–±—ã —Å–Ω–∞—Ä—è–∂–µ–Ω–∏—è

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ emergentintegrations:

```bash
pip install emergentintegrations --extra-index-url https://d33sy5i8bnduwe.cloudfront.net/simple/
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ –µ—Å—Ç—å –∫–ª—é—á:

```bash
EMERGENT_LLM_KEY=sk-emergent-f1d71AeF1E81d40Bd4
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ cron job –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ crontab
crontab -e

# –î–æ–±–∞–≤—å—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É (–∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 10:00)
0 10 * * 1 cd /app/backend && /usr/bin/python3 /app/backend/auto_publish_articles.py >> /var/log/auto_articles.log 2>&1
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±** (—Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞):
```bash
cd /app/backend
chmod +x setup_cron.sh
./setup_cron.sh
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é (—Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–≥–æ–Ω):

```bash
cd /app/backend
python3 auto_publish_articles.py
```

–°–∫—Ä–∏–ø—Ç:
- –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 2-3 —Å—Ç–∞—Ç—å–∏ (—Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ)
- –í—ã–±–µ—Ä–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –û–ø—É–±–ª–∏–∫—É–µ—Ç —Å –ª–∞—Ç–∏–Ω—Å–∫–∏–º–∏ slug
- –í—ã–≤–µ–¥–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏
tail -f /var/log/auto_articles.log

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
tail -50 /var/log/auto_articles.log
```

---

## üìä –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ Cron

| –í—Ä–µ–º—è | –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ | –î–µ–π—Å—Ç–≤–∏–µ |
|-------|-------------|----------|
| 10:00 | –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è 2-3 —Å—Ç–∞—Ç–µ–π |

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ:

–§–æ—Ä–º–∞—Ç cron: `–º–∏–Ω—É—Ç–∞ —á–∞—Å –¥–µ–Ω—å –º–µ—Å—è—Ü –¥–µ–Ω—å_–Ω–µ–¥–µ–ª–∏`

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00
0 9 * * * cd /app/backend && python3 auto_publish_articles.py

# –ö–∞–∂–¥—É—é –ø—è—Ç–Ω–∏—Ü—É –≤ 14:00
0 14 * * 5 cd /app/backend && python3 auto_publish_articles.py

# –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –∏ –ø—è—Ç–Ω–∏—Ü—É –≤ 10:00
0 10 * * 1,5 cd /app/backend && python3 auto_publish_articles.py

# –î–≤–∞–∂–¥—ã –≤ –Ω–µ–¥–µ–ª—é: –≤—Ç–æ—Ä–Ω–∏–∫ –∏ —á–µ—Ç–≤–µ—Ä–≥ –≤ 15:30
30 15 * * 2,4 cd /app/backend && python3 auto_publish_articles.py
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π

### –°—Ç–∞—Ç—å—è #1 (tips):
- **–¢–µ–º–∞:** "–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–µ –∫–æ–Ω—å–∫–∏ –¥–ª—è —Ö–æ–∫–∫–µ—è"
- **URL:** `/blog/kak-vybrat-idealnye-konki-dlya-hokkeya`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** –°–æ–≤–µ—Ç—ã –∏ –≥–∞–π–¥—ã

### –°—Ç–∞—Ç—å—è #2 (news):
- **–¢–µ–º–∞:** "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤ —Ö–æ–∫–∫–µ–µ: –Ω–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ —É–º–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"
- **URL:** `/blog/tehnologii-v-hokkee-novye-materialy-i-umnye-ustroystva`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** –ù–æ–≤–æ—Å—Ç–∏ —Ö–æ–∫–∫–µ—è

### –°—Ç–∞—Ç—å—è #3 (care):
- **–¢–µ–º–∞:** "–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—É—à–∏—Ç—å —Ö–æ–∫–∫–µ–π–Ω—É—é —ç–∫–∏–ø–∏—Ä–æ–≤–∫—É"
- **URL:** `/blog/kak-pravilno-sushit-hokkeynuyu-ekipirovku`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** –£—Ö–æ–¥ –∑–∞ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–æ–π

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π:

–û—Ç–∫—Ä–æ–π—Ç–µ `auto_publish_articles.py` –∏ –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```python
num_articles = random.randint(2, 3)  # –û—Ç 2 –¥–æ 3 —Å—Ç–∞—Ç–µ–π
```

–ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞:
```python
num_articles = 1  # –í—Å–µ–≥–¥–∞ 1 —Å—Ç–∞—Ç—å—è
# –∏–ª–∏
num_articles = random.randint(1, 4)  # –û—Ç 1 –¥–æ 4 —Å—Ç–∞—Ç–µ–π
```

### –ò–∑–º–µ–Ω–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

```python
CATEGORIES = [
    {"id": "tips", "name": "–°–æ–≤–µ—Ç—ã –∏ –≥–∞–π–¥—ã"},
    {"id": "news", "name": "–ù–æ–≤–æ—Å—Ç–∏ —Ö–æ–∫–∫–µ—è"},
    {"id": "care", "name": "–£—Ö–æ–¥ –∑–∞ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–æ–π"}
]
```

### –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è AI:

–ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `generate_topic_with_ai` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ:
```python
prompts = {
    "tips": "–í–∞—à –Ω–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —Å–æ–≤–µ—Ç–æ–≤...",
    "news": "–í–∞—à –Ω–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π...",
    "care": "–í–∞—à –Ω–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —É—Ö–æ–¥–∞..."
}
```

---

## üö® Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Cron job –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ cron —Ä–∞–±–æ—Ç–∞–µ—Ç
service cron status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ cron
service cron restart

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ cron
tail -f /var/log/syslog | grep CRON
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "EMERGENT_LLM_KEY not found"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat /app/backend/.env | grep EMERGENT_LLM_KEY

# –ï—Å–ª–∏ –Ω–µ—Ç, –¥–æ–±–∞–≤—å—Ç–µ
echo 'EMERGENT_LLM_KEY="sk-emergent-f1d71AeF1E81d40Bd4"' >> /app/backend/.env
```

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ç—å–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
cd /app/backend
python3 -c "
import asyncio
from motor.motor_asyncio import AsyncIOMotorClient

async def check():
    client = AsyncIOMotorClient('mongodb://localhost:27017')
    db = client.hockey_shop
    count = await db.articles.count_documents({})
    print(f'Total articles in DB: {count}')
    client.close()

asyncio.run(check())
"
```

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **Emergent LLM Key** (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–ª—é—á)
- ~3 —Å—Ç–∞—Ç—å–∏ √ó 3 AI –∑–∞–ø—Ä–æ—Å–∞ = **9 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é**
- –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: **$0.01-0.05 –≤ –Ω–µ–¥–µ–ª—é**
- –ö—Ä–µ–¥–∏—Ç—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å –±–∞–ª–∞–Ω—Å–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f /var/log/auto_articles.log`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
